{% extends "base_generic.html" %}

{% block title %}<title>SevanB Projects</title>{% endblock %}
{% block img %}
    <!-- <canvas id="canvas"></canvas> -->
    <!-- {% load static %}
    <div
        class="bg-image text-light"
        style="
        background-image: url('{% static 'space2.png' %}');
        background-size: cover;
        background-attachment: fixed;
        background-position: center center;
        min-height: 100vh;
        "
    > -->
{% endblock %}
{% block homenavtxt %}Home{% endblock %}
{% block projectsnavtxt %}<strong>Projects</strong>{% endblock %}
{% block blognavtxt %}Blog{% endblock %}
{% block pubsnavtxt %}Publications{% endblock %}
{% block resumenavtxt %}CV{% endblock %}
{% block contactnavtxt %}Contact{% endblock %}

{% block content %}
    <div id="canvasContainer"></div>

    <h1 class="display-1 text-center my-4 text-light infront"><strong>Independent Projects</strong></h1>
    <br>

    {% if projects %}
        {% for project in projects %}
        <div class="row mx-5 my-4 mx-auto rounded" style="max-width: 80%; margin-left: auto; margin-right: auto;">
            <div class="col-md-5 col-12">
                <a href="{{ project.get_absolute_url }}" class="infront rounded">
                    {% if 'youtube' in project.img %}
                        <iframe src="{{ project.img }}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen  style="height: 400px; width: 100%"></iframe>
                    {% else %}
                        <img class="img-fluid rounded mx-sm-auto d-block my-4 border border-dark" src="{{ project.img }}" alt="{{ project.title }}"> 
                    {% endif %}
                </a>
            </div>
            <div class="col-md-7 col-12 rounded infront text-light" style="background-color: rgba(0, 0, 0, 0.85)">
                <div class="row mt-2">
                    <div class="col text-center"><a class="mt-3 text-info" href="{{ project.get_absolute_url }}" style="font-size: 3rem;">{{ project.title }}</a></div>
                </div>

                <!-- {% if project.independent %}
                    <div class="row mt-2">
                        <div class="col text-center"><p><strong>*Independent Project*</strong></p></div>
                    </div>
                {% endif %} -->

                <div class="row mt-2">
                    {% if project.ongoing %}
                        <div class="col text-center"><p><strong>Ongoing Project</strong></p></div>
                    {% else %}
                        <div class="col text-center"><p><strong>Project closed on {{ project.end }}</strong></p></div>
                    {% endif %}
                </div>

                {% if project.description %}
                    <div class="row mt-2 mx-5 rounded">
                        <div class="col"><p style="white-space: pre-line; overflow: hidden;
                                                    text-overflow: ellipsis;
                                                    display: -webkit-box;
                                                    -webkit-line-clamp: 5; /* number of lines to show */
                                                    line-clamp: 5; 
                                                    -webkit-box-orient: vertical;
                                                    font-size: 22px;
                                                    font-weight: 575;">{{ project.description }}</p></div>
                    </div>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    {% else %}
        <p> Error: No projects found.</p>
    {% endif %}
    <br>

    <script src="{% static 'scripts/script.js' %}"></script>
{% endblock %}



