{% extends "base_generic.html" %}

{% block title %}<title>SevanB Projects</title>{% endblock %}
{% block img %}
    {% load static %}
    <div
    class="bg-image text-light"
    style="
    background-image: url('{% static 'space2.png' %}');
    background-size: cover;
    background-attachment: fixed;
    "
    >
    <div>
{% endblock %}
{% block homenavtxt %}Home{% endblock %}
{% block projectsnavtxt %}<strong>Projects</strong>{% endblock %}
{% block resumenavtxt %}Resume{% endblock %}
{% block contactnavtxt %}Contact{% endblock %}

{% block content %}
    <br>
    <h1 class="display-1 text-center my-4"><strong>Projects</strong></h1>
    <br>

    {% if projects %}
        {% for project in projects %}
        <div class="container">
            <div class="row mx-5 my-4 rounded" style="background-color: rgba(0, 0, 0, 0.5);">
                <div class="col-5">
                    <a href="{{ project.get_absolute_url }}">
                        <iframe src="{{ project.img }}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen  style="width: 100%; height: 100%;"></iframe>
                        <!-- <img class="img-fluid rounded mx-sm-auto d-block my-4 border border-dark" src="{{ project.img }}" alt="{{ project.title }}">  -->
                    </a>
                </div>
                <div class="col-7">
                    <div class="row mt-2">
                        <div class="col d-flex justify-content-center"><a class="mt-3 text-white" href="{{ project.get_absolute_url }}" style="font-size:3vw;">{{ project.title }}</a></div>
                    </div>
    
                    {% if project.independent %}
                        <div class="row mt-2">
                            <div class="col d-flex justify-content-center"><p><strong>*Independent Project*</strong></p></div>
                        </div>
                    {% endif %}

                    <div class="row mt-2">
                        {% if project.ongoing %}
                            <div class="col d-flex justify-content-center"><p><strong>Ongoing Project</strong></p></div>
                        {% else %}
                            <div class="col d-flex justify-content-center"><p><strong>Project closed on {{ project.end }}</strong></p></div>
                        {% endif %}
                    </div>

                    {% if project.description %}
                        <div class="row mt-2 rounded">
                            <div class="col"><p style="white-space: pre-line; overflow: hidden;
                                                        text-overflow: ellipsis;
                                                        display: -webkit-box;
                                                        -webkit-line-clamp: 5; /* number of lines to show */
                                                                line-clamp: 5; 
                                                        -webkit-box-orient: vertical;">{{ project.description }}</p></div>
                        </div>
                    {% endif %}
    
                </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <p>Error: No projects found.</p>
    {% endif %}

    <br>
{% endblock %}